---
const { currentPage, totalPages, baseUrl = '/blog/page' } = Astro.props;

const createPageLink = (page: number) => `${baseUrl}/${page}`;
const range = (start: number, end: number) =>
  Array.from({ length: end - start + 1 }, (_, i) => start + i);
---

<nav aria-label="Pagination">
  <ul class="flex items-center -space-x-px h-8 text-sm justify-center mb-32 pt-24">

    <!-- Prev -->
    <li>
      {currentPage > 1 ? (
        <a href={createPageLink(currentPage - 1)} class="px-3 h-8 flex items-center justify-center leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700">
          <span class="sr-only">Previous</span>
          <svg class="w-2.5 h-2.5" fill="none" viewBox="0 0 6 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4" /></svg>
        </a>
      ) : (
        <span class="px-3 h-8 flex items-center justify-center text-gray-300 border border-gray-200 rounded-s-lg">←</span>
      )}
    </li>

    <!-- Page numbers -->
    {range(1, totalPages).map((page) => (
      <li>
        <a
          href={createPageLink(page)}
          aria-current={page === currentPage ? 'page' : undefined}
          class={`flex items-center justify-center px-3 h-8 leading-tight border ${
            page === currentPage
              ? 'text-blue-600 border-blue-300 bg-blue-50'
              : 'text-gray-500 bg-white border-gray-300 hover:bg-gray-100 hover:text-gray-700'
          }`}
        >
          {page}
        </a>
      </li>
    ))}

    <!-- Next -->
    <li>
      {currentPage < totalPages ? (
        <a href={createPageLink(currentPage + 1)} class="px-3 h-8 flex items-center justify-center leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700">
          <span class="sr-only">Next</span>
          <svg class="w-2.5 h-2.5" fill="none" viewBox="0 0 6 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4" /></svg>
        </a>
      ) : (
        <span class="px-3 h-8 flex items-center justify-center text-gray-300 border border-gray-200 rounded-e-lg">→</span>
      )}
    </li>

  </ul>
</nav>
